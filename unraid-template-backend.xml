<?xml version="1.0"?>
<Container version="2">
  <Name>rectifierr-backend</Name>
  <Repository>ghcr.io/benwisecup/rectifierr-backend:latest</Repository>
  <Registry>https://ghcr.io</Registry>
  <Network>bridge</Network>
  <Shell>bash</Shell>
  <Privileged>false</Privileged>
  <Overview>Rectifierr backend â€” media quality auditor for Plex. Detects network bumpers, channel logos, and DVR artifacts.</Overview>
  <Category>MediaApp:Video</Category>
  <WebUI/>
  <ExtraParams/>
  <PostArgs/>
  <CPUset/>

  <Data>
    <Volume>
      <HostDir>/mnt/user/appdata/rectifierr</HostDir>
      <ContainerDir>/config</ContainerDir>
      <Mode>rw</Mode>
    </Volume>
    <Volume>
      <HostDir>/mnt/user/</HostDir>
      <ContainerDir>/media</ContainerDir>
      <Mode>ro</Mode>
    </Volume>
  </Data>

  <Networking>
    <Mode>bridge</Mode>
    <Publish>
      <Port>
        <HostPort>8000</HostPort>
        <ContainerPort>8000</ContainerPort>
        <Protocol>tcp</Protocol>
      </Port>
    </Publish>
  </Networking>

  <Environment>
    <Variable>
      <Name>DATABASE_URL</Name>
      <Value>sqlite:////config/rectifierr.db</Value>
      <Mode/>
    </Variable>
    <Variable>
      <Name>CONFIG_DIR</Name>
      <Value>/config</Value>
      <Mode/>
    </Variable>
    <Variable>
      <Name>THUMBNAILS_DIR</Name>
      <Value>/config/thumbnails</Value>
      <Mode/>
    </Variable>
    <Variable>
      <Name>MEDIA_ROOT</Name>
      <Value>/media</Value>
      <Mode/>
    </Variable>
    <Variable>
      <Name>DEBUG</Name>
      <Value>false</Value>
      <Mode/>
    </Variable>
    <Variable>
      <Name>BUMPER_SCAN_SECONDS</Name>
      <Value>180</Value>
      <Mode/>
    </Variable>
    <Variable>
      <Name>BUMPER_MAX_DURATION</Name>
      <Value>60</Value>
      <Mode/>
    </Variable>
    <Variable>
      <Name>LOGO_DETECTION_ENABLED</Name>
      <Value>true</Value>
      <Mode/>
    </Variable>
    <Variable>
      <Name>MIN_CONFIDENCE</Name>
      <Value>0.5</Value>
      <Mode/>
    </Variable>
    <Variable>
      <Name>SCENE_CHANGE_THRESHOLD</Name>
      <Value>0.35</Value>
      <Mode/>
    </Variable>
  </Environment>

  <Labels/>
</Container>
